jQuery(function(t){function e(e){t(e).find(".unitswitcher-dependency-cb").is(":checked")?t(e).find(".unitswitcher-dependency-content").hide():t(e).find(".unitswitcher-dependency-content").show()}function i(e){var i=t(e).parents(".unitswitcher-unit-item"),n='<li class="unitswitcher-unit-item"><table class="unitswitcher-unit-table"><tr><td><div class="unitswitcher-defaults"><input type="text" placeholder="'+unit_switcher.name+'" class="unitswitcher-name"><input type="text" placeholder="'+unit_switcher.singular_name+'" class="unitswitcher-singular"></div></td><td><ul class="unitswitcher-alternates"><li class="unitswitcher-alternate-item"><div class="formula"><input type="text" class="unitswitcher-formula" placeholder="'+unit_switcher.formula+'"><span class="equals">=</span></div><div class="alternates"><input type="text" placeholder="'+unit_switcher.name+'" class="unitswitcher-alt-name"><input type="text" placeholder="'+unit_switcher.singular_name+'" class="unitswitcher-alt-singular"></div><div class="unitswitcher-add-remove-unit unitswitcher-btn-group"><a href="#" class="unitswitcher-remove-alternate">-</a><a href="#" class="unitswitcher-add-alternate">+</a></div></li></ul></td></tr></table><div class="unitswitcher-add-remove-unit unitswitcher-btn-group"><a href="#" class="unitswitcher-remove-unit">-</a><a href="#" class="unitswitcher-add-unit">+</a></div></li>';t(i).after(n),r()}function n(e){t(e).parents(".unitswitcher-unit-item").fadeOut("fast",function(){t(this).remove(),r()})}function a(e){var i=t(e).parents(".unitswitcher-alternate-item"),n='<li class="unitswitcher-alternate-item"><div class="formula"><input type="text" class="unitswitcher-formula" placeholder="'+unit_switcher.formula+'"><span class="equals">=</span></div><div class="alternates"><input type="text" placeholder="'+unit_switcher.name+'" class="unitswitcher-alt-name"><input type="text" placeholder="'+unit_switcher.singular_name+'" class="unitswitcher-alt-singular"></div><div class="unitswitcher-add-remove-unit unitswitcher-btn-group"><a href="#" class="unitswitcher-remove-alternate">-</a><a href="#" class="unitswitcher-add-alternate">+</a></div></li>';t(i).after(n),r()}function s(e){t(e).parents(".unitswitcher-alternate-item").fadeOut("fast",function(){t(this).remove()}),r()}function r(){var e=t(".unitswitcher-unit-item");t.each(e,function(e){t(this).find(".unitswitcher-name").attr("name","unitswitcher_units["+e+"][default]"),t(this).find(".unitswitcher-singular").attr("name","unitswitcher_units["+e+"][default_singular]"),c(t(this),e)})}function c(e,i){var n=t(e).find(".unitswitcher-alternate-item");t.each(n,function(e){t(this).find(".unitswitcher-formula").attr("name","unitswitcher_units["+i+"][alternates]["+e+"][formula]"),t(this).find(".unitswitcher-alt-name").attr("name","unitswitcher_units["+i+"][alternates]["+e+"][name]"),t(this).find(".unitswitcher-alt-singular").attr("name","unitswitcher_units["+i+"][alternates]["+e+"][name_singular]")})}t(document).ready(function(){var i=t(".unitswitcher-dependency");t.each(i,function(){e(t(this))})}),t(".unitswitcher-dependency-cb").on("change",function(){var i=t(this).parents(".unitswitcher-dependency");e(i)}),t(document).on("click",".unitswitcher-add-unit",function(e){e.preventDefault(),i(t(this))}),t(document).on("click",".unitswitcher-remove-unit",function(e){e.preventDefault(),n(t(this))}),t(document).on("click",".unitswitcher-add-alternate",function(e){e.preventDefault(),a(t(this))}),t(document).on("click",".unitswitcher-remove-alternate",function(e){e.preventDefault(),s(t(this))})});